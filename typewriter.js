// Nội dung lá thư
const content = `29/09/2025 - 00:00
Chào emmm, bông hồng bé nhỏ của anhhh 
Em có còn nhớ ngày này tháng trước là ngày gì không ạ, heh...
yepp chính là ngày mà em đồng ý trước cái lời tỏ tình vụng về ấy của anh á :> happy anni 1th mình quenn nhau hihi
Thật sự mà nói, một năm trước anh chưa từng nghĩ rằng anh và em có thể trở thành người yêu của nhau. Khi đó anh chỉ nghĩ tụi mình là một đôi bạn cùng tiến như bao đôi bạn khác, chỉ khác ở chỗ là khác giới thôi… Vậy nên đến giờ phút này, anh thật sự rất, rất hạnh phúc khi được làm người yêu của em.
Nhắc về hôm đó, có thể lời tỏ tình của anh hơi nhạt, thậm chí là quá nhạt :)) Nhưng tất cả đều là lời thật lòng, xuất phát từ trái tim anh. Khi nói ra những lời ấy, tim anh đập, mắt thì run, tay co ro… Anh đã gom hết mọi dũng khí để bộc bạch và trút hết nỗi lòng với em.
Như anh từng nói, việc mở lời với em giống như một canh bạc lớn. Anh rất sợ… sợ mất em, sợ không còn là bạn bè như trước. Anh tự hỏi, nếu anh tỏ tình nhiều lần mà câu trả lời kiên quyết của em vẫn là “không”, liệu chúng ta còn có thể như ban đầu? Trước đêm hôm đó anh đã suy nghĩ rất nhiều, nhưng mà riêng em là điều anh chưa từng muốn bỏ qua, dù chỉ một lần.
Anh thật sự rất, rất muốn được làm người yêu của em – một người để em có thể tâm sự, một chỗ dựa cho em mỗi khi em yếu lòng và là người đồng hành trong suốt quãng thời gian sắp tới của em. Và ngay giờ phút này, anh vẫn vô cùng biết ơn em vì lời đồng ý hôm đó. Như em từng nói, thích em là lựa chọn của anh, nhưng chính em mới là người đã đồng ý đến bên anh, sát cánh cùng anh. Anh cảm ơn em rất nhiều. Anh yêu em...!
Một tháng vừa qua, anh đã trải qua đủ mọi cung bậc cảm xúc kể từ khi em bước đến bên anh, mang đến cho cuộc đời anh những gam màu tươi sáng giữa bầu trời xám xịt. Em luôn là nguồn động lực lớn lao để anh cố gắng thay đổi và trở nên tốt hơn mỗi ngày. Có thể khi em đến bên anh, anh vẫn chưa phải là một con người đủ tốt, đủ ‘wow’, nhưng anh xin hứa sẽ luôn nỗ lực cải thiện, hoàn thiện bản thân từng ngày để em không bao giờ phải hối hận về sự lựa chọn hôm ấy.
30 ngày vừa qua là khoảng thời gian thật vui, thật hạnh phúc đối với anh khi có em ở bên. Có em, anh cảm thấy như mình có thể làm được bất cứ điều gì =)) Mỗi ngày trôi qua đều trở nên trọn vẹn, bình yên và đầy ắp niềm vui.
Anh biết trước đó em chưa thật sự sẵn sàng để yêu một ai – anh để ý rằng có người này tới, người kia đi, em vẫn chọn từ chối. Chính vì thế, khi nhận được sự đồng ý của em, anh đã tự hứa với lòng rằng mỗi ngày bên em, dù không cần quá sôi nổi hay hào nhoáng, anh vẫn sẽ cố gắng để những ngày của em luôn bình yên, hạnh phúc và đầy yêu thương
Thật sự thì trước đây anh cũng biết mình chưa phải là một người tốt đẹp gì, nhưng anh tin rằng trong tương lai anh sẽ thay đổi, từng chút một mỗi ngày – dù ít thôi cũng được, vì ‘góp gió thành bão’ mà.
Anh mong rằng cô gái của anh sẽ luôn là chính mình – vui vẻ, hạnh phúc, thể hiện cảm xúc một cách chân thật và chân thành nhất, đừng cố gồng mình hay ép mình phải mạnh mẽ nữa. Dù mưa gió, giông bão thế nào, anh chắc chắn sẽ luôn ở bên em mỗi khi em cần, kể cả những ngày bình thường cũng vậy. Anh chưa bao giờ muốn cô gái của anh phải một mình hay cô đơn cả.
Những ngày gần đây anh nhận ra em cũng đã bớt gồng mình hơn, điều đó làm anh vui lắm. Anh thật sự chỉ mong em là em, còn anh là anh – cả hai cùng giữ sự thoải mái, hồn nhiên trong mối quan hệ này. Dù trước đó chúng ta là hai cá tính khác biệt, hai khoảng trời đối lập, anh tin rằng chỉ cần cùng nhau cố gắng, cùng nhau cải thiện bản thân từng ngày thì chúng ta sẽ đi đến bất cứ đâu mà hai đứa mong muốn.
Hehe… Anh sẽ cố gắng hơn mỗi ngày. Anh không dám chắc rằng mình có thể mang đến cho em hạnh phúc nhất – từ trước đến nay và cả sau này – nhưng anh hứa, chỉ cần anh còn ở đây, anh sẽ luôn cố gắng để mỗi ngày của em trôi qua thật êm đềm, thật hạnh phúc và ngập tràn niềm vui
Lần nữa, anh cảm ơn em rất nhiều vì đã lựa chọn đến bên và ở cạnh anh vào ngày hôm ấy. Anh biết rằng trên đời chưa có gì có thể định nghĩa là hoàn hảo cả, nên anh mong rằng cả anh và em sẽ cùng nhau cố gắng, cùng xây đắp mối quan hệ này để tự mình định nghĩa nên sự hoàn hảo của riêng hai đứa. Anh yêu em rất nhiều"`;

const el = document.getElementById("typewriter");

function typeWriter(text, el, cps = 20, onDone) {
  el.textContent = "";
  el.classList.add("typing");

  const chars = [...text];
  let i = 0;
  const baseDelay = 1000 / cps;

  function step() {
    if (i < chars.length) {
      const ch = chars[i++];
      el.textContent += ch;

      // nghỉ nhịp ở dấu câu & xuống dòng
      let extra = 0;
      if (".!?…".includes(ch)) extra += 140;
      if (ch === "\n") extra += 70;

      setTimeout(step, baseDelay + extra);
      el.scrollTop = el.scrollHeight; // tự cuộn
    } else {
      el.classList.remove("typing");
      onDone && onDone();
      document.dispatchEvent(new Event("typing:done"));
    }
  }
  step();
}

// Bắt đầu gõ sau 1 giây
setTimeout(() => typeWriter(content, el, 18), 1000);
